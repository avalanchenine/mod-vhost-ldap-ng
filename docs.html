<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" >
<head>
	<title>mod_vhost_ldap_ng - New generation Apache2 module for Virtual hosts configuration over LDAP</title>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<meta name="robots" content="index, follow" />
	 <meta name="keywords" content="apache module, dynamic virtualhost, apache ldap, virtualhost ldap, vhost ldap module, apache ldap module, mod vhost ldap, ldap vhost" />
	<meta name="description" content="" />
	
	<link rel="stylesheet" href="./styles.css" type="text/css" /> 
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-9415726-6']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</head>
<body>
<div id="main">
	<div id="header">
		<span id="project_name">mod_vhost_ldap_ng - New generation Apache2 module for Virtual hosts configuration over LDAP</span>
	</div>
	<div id="center">
		<div id="left">
			<h3>Resources</h3>
			<ul>
				<li><a href="index.html">home</a></li>
				<li><a href="download.html">download</a></li>
				<li id="active"><a href="docs.html">docs</a></li>
				<li><a href="sponsors.html">sponsors</a></li>
			</ul>
		</div>
		<div id="content">
		<p><a href="http://www.simonecaruso.com/2011/02/configuring-apache-dynamic-virtualhosts-with-ldap-and-mod_vhost_ldap_ng/">Install e configuration tutorial</a></p>
		<p><b>NOTE</b>: the blog article is updated to <b>1.1</b> release.</p>
		<br /><hr />
		<h3>Compile and install with PHP support</h3><br />
		<p>To enable PHP support and read phpOpenBase/phpIncludePath attributes from LDAP compile mod vhost ldap ng with:</p><br />
		<p>$ make withphp</p>
		<p># make install</p>
		<br />
		<hr />
		<h3>Version 1.1.1 - configure options</h3><br />
		<p>
			With v1.1.1 we added gnu autotools configure script, it accepts two options:<br /> 
			<ul>
			<li><b>--enable-php</b> - Enable mod_php open_basedir and include_path ini options</li>
			<li><b>--enable-debug</b> - Build soruce with debugging symbols</li>
			</ul>
			<br />To install the module now type:<br />
			<p>$ ./configure --enable-php </p>
			<p>$ make</p>
	                <p># make install</p>
		</p><br />
		<hr />
		<h3>Configuration file reference</h3>
		<br />
		<p>
<pre>
VhostLDAPEnabled on
VhostLDAPUrl  "ldap://127.0.0.1:389"
VhostLDAPBaseDN "ou=domains,dc=example,dc=com"
VhostLDAPSearchScope "one"
VhostLDAPFilter "apacheVhostEnabled=yes"
VhostLdapBindDN "cn=admin,dc=example,dc=com"
VhostLDAPBindPassword "secret"
VhostLDapRootDir "/var/www/"
phpIncludePath "/usr/share/php/"
</pre>
		</p>
		<br /><hr />
		<h3>Example LDAP DIT for virtualhosts</h3>
		<br />
		<pre>dn: dc=example,dc=com
dc: example
objectClass: top
objectClass: dcObject
objectClass: organization
o: nodomain

dn: ou=domains,dc=example,dc=com
objectClass: organizationalUnit
objectClass: top
ou: domains

dn: dc=test.it,ou=domains,dc=example,dc=com
dc: test.it
objectClass: dcObject
objectClass: top
objectClass: apacheConfig
apacheDocumentRoot: test.it/html
apacheServerName: test.it
apacheServerAlias: www.test.it

dn: dc=test2.it,ou=domains,dc=example,dc=com
dc: test2.it
objectClass: dcObject
objectClass: top
objectClass: apacheConfig
apacheDocumentRoot: /var/www/test.it/html
apacheServerName: test2.it
apacheServerAlias: www.test2.it</pre>
		</div>
	</div>
</div>
<div id="footer"></div>
</body>
</html>
